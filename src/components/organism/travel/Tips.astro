---
import { getLocale, t , getLangFromUrl } from '@/utils/i18n';
import Tick from '@/assets/tick.svg';
import Bocadillo from '@/assets/bocadillo.svg';
import Plate from "@/assets/plate.svg";

const lang = getLangFromUrl(Astro.url);
const locale = getLocale(lang);

const tips = [
  {
    icon: Bocadillo,
    title: t(locale, "travel.tips.language.title"),
    texts: [
      t(locale, "travel.tips.language.text1"),
      t(locale, "travel.tips.language.text2"),
    ],
  },
  {
    icon: Plate,
    title: t(locale, "travel.tips.food.title"),
    texts: [
      t(locale, "travel.tips.food.text1"),
      t(locale, "travel.tips.food.text2"),
    ],
  },
  {
    icon: Tick,
    title: t(locale, "travel.tips.general.title"),
    texts: [
      t(locale, "travel.tips.general.text1"),
      t(locale, "travel.tips.general.text2"),
      t(locale, "travel.tips.general.text3"),
      t(locale, "travel.tips.general.text4"),
      t(locale, "travel.tips.general.text5"),
      t(locale, "travel.tips.general.text6"),
    ],
  },
];
---

---

<div class="tips" id="travel-tips">
  <h2 class="title-cormorant-h2">{t(locale, "travel.tips.title")}</h2>
  <h3 class="subtitle-dancing-h3">{t(locale, "travel.tips.subtitle")}</h3>
  
  <div class="tips-list">
    {tips.map((item, i) => {
      const Icon = item.icon;
      i = i + 1; // Ajustar Ã­ndice para comenzar desde 1
      const isEven = i % 2 === 0;
  
      return (
        <div class={`tips-item ${isEven ? "even" : "odd"}`}>
          
          <div class={`tips-item__header ${isEven ? "even" : "odd"}`}>
            <Icon class="tips-item__icon" /> 
            <h4 class="tips-item__title">{item.title}</h4>
          </div>

          <div class="tips-item__content">
            {item.texts.map((text) => (
              <p set:html={text}></p>
            ))}
          </div>
        </div>
      );
    })}
  </div>


</div>
<style lang="scss">
.tips {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 2rem;
  margin-top: 3rem;

  &__text {
    font-family: $font-cormorant;
    font-weight: bold;
    font-size: $font-size-md;
    color: $color-red;
    margin-bottom: 5rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  &-list {
    display: flex;
    flex-direction: column;
    gap: 4rem;
    width: 100%;
  }

  &-item {
  display: flex;
  flex-direction: column;
  // align-items: center;
  gap: 2rem;
  text-align: left;
  justify-content: center;

  &__header{
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  &__icon {
    width: 3rem;
    height: auto;
    color: $color-red;
  }

  &__content {
    font-family: $font-cormorant;
    font-size: $font-size-md;
    line-height: 2rem;
    // max-width: 500px;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  &__title {
    font-family: $font-dancing;
    font-size: $font-size-lg;
    font-weight: $weight-serif-bold;
    color: $color-red;
  }

  &.odd {
    .transport-item__content {
      text-align: left;
      align-items: flex-start;
    }
  }

  /* --- PAR (icono derecha, textos derecha) --- */
  &.even {
    text-align: right;

    .tips-item__header {
      justify-content: end;
      // align-items: flex-end;
    }
  }
}

@media (min-width: 720px) {
    max-width: 42rem;
    padding-inline: 0;
    padding-block: 4rem;
    margin: auto;
  } 


}

</style>